@import "tailwindcss";

@theme {
  /* Warm beige palette — soft, readable, not too bright */
  --color-story-bg: #faf8f5;
  --color-story-surface: #f0ece4;
  --color-story-panel: #faf8f5;
  --color-story-border: #ddd6ca;
  --color-story-dark: #1a1a2e;
  --color-story-card: #fffdf9;

  --color-nvme-green: #00b894;
  --color-nvme-blue: #635bff;
  --color-nvme-violet: #7c5cfc;
  --color-nvme-amber: #e8a317;
  --color-nvme-red: #e05d6f;

  --color-text-primary: #2d2a24;
  --color-text-secondary: #56524a;
  --color-text-muted: #9e9789;
  --color-text-code: #635bff;
}

body {
  @apply bg-story-bg text-text-secondary antialiased;
  font-feature-settings: "kern" 1;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
::-webkit-scrollbar-track {
  @apply bg-story-surface;
}
::-webkit-scrollbar-thumb {
  @apply bg-story-border rounded-full;
}
::-webkit-scrollbar-thumb:hover {
  @apply bg-text-muted;
}

/* Code block styling */
pre {
  @apply bg-story-dark rounded-xl p-4 overflow-x-auto text-sm font-mono text-white/90;
}
code {
  @apply font-mono;
}
:not(pre) > code {
  @apply text-nvme-blue bg-nvme-blue/5 px-1.5 py-0.5 rounded-md text-[0.85em];
}

/* Hex byte styling */
.hex-byte {
  @apply font-mono text-xs px-1 py-0.5 rounded;
}

/* Dword color classes */
.dword-0 { @apply bg-blue-50 border-blue-400; }
.dword-1 { @apply bg-emerald-50 border-emerald-400; }
.dword-2 { @apply bg-purple-50 border-purple-400; }
.dword-3 { @apply bg-amber-50 border-amber-400; }
.dword-4 { @apply bg-rose-50 border-rose-400; }
.dword-5 { @apply bg-cyan-50 border-cyan-400; }
.dword-6 { @apply bg-lime-50 border-lime-400; }
.dword-7 { @apply bg-orange-50 border-orange-400; }
.dword-8 { @apply bg-indigo-50 border-indigo-400; }
.dword-9 { @apply bg-teal-50 border-teal-400; }
.dword-10 { @apply bg-pink-50 border-pink-400; }
.dword-11 { @apply bg-sky-50 border-sky-400; }
.dword-12 { @apply bg-violet-50 border-violet-400; }
.dword-13 { @apply bg-fuchsia-50 border-fuchsia-400; }
.dword-14 { @apply bg-yellow-50 border-yellow-400; }
.dword-15 { @apply bg-red-50 border-red-400; }

/* Article content styling */
.article-content h2 {
  @apply text-2xl font-bold mt-8 mb-4 text-text-primary;
}
.article-content h3 {
  @apply text-xl font-semibold mt-6 mb-3 text-text-primary;
}
.article-content p {
  @apply mb-4 leading-relaxed text-text-secondary;
}
.article-content ul {
  @apply list-disc list-inside mb-4 text-text-secondary;
}
.article-content ol {
  @apply list-decimal list-inside mb-4 text-text-secondary;
}
.article-content a {
  @apply text-nvme-blue hover:underline;
}
.article-content blockquote {
  @apply border-l-4 border-nvme-blue pl-4 italic text-text-muted my-4;
}
.article-content table {
  @apply w-full border-collapse my-4;
}
.article-content th {
  @apply bg-story-surface text-left p-2 border border-story-border;
}
.article-content td {
  @apply p-2 border border-story-border;
}

/* Radix Accordion animations */
.accordion-content[data-state="open"] {
  animation: slideDown 200ms ease-out;
}
.accordion-content[data-state="closed"] {
  animation: slideUp 200ms ease-out;
}

@keyframes slideDown {
  from { height: 0; opacity: 0; }
  to { height: var(--radix-accordion-content-height); opacity: 1; }
}

@keyframes slideUp {
  from { height: var(--radix-accordion-content-height); opacity: 1; }
  to { height: 0; opacity: 0; }
}

/* Card shadows — warm tones */
.card-shadow {
  box-shadow: 0 1px 3px rgba(45, 42, 36, 0.06), 0 4px 16px rgba(45, 42, 36, 0.04);
}
.card-shadow-hover {
  box-shadow: 0 4px 16px rgba(45, 42, 36, 0.10), 0 12px 32px rgba(45, 42, 36, 0.06);
}

/* Voiceover highlight — active narrated block */
[data-vo-active="true"] {
  border-left: 3px solid #635bff;
  padding-left: 12px;
  background-color: rgba(99, 91, 255, 0.04);
  border-radius: 4px;
  transition: background-color 0.3s ease, border-color 0.3s ease;
}

[data-vo-active="true"]::before {
  content: "";
  display: none;
}

@keyframes voiceover-pulse {
  0%, 100% { border-left-color: #635bff; }
  50% { border-left-color: rgba(99, 91, 255, 0.4); }
}

[data-vo-active="true"] {
  animation: voiceover-pulse 2s ease-in-out infinite;
}

/* Gradient text utility */
.gradient-text {
  background: linear-gradient(135deg, #635bff 0%, #00b894 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
